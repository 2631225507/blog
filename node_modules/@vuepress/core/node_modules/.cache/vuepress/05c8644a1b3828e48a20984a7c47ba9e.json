{"remainingRequest":"/Applications/personal-note/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/personal-note/blog/docs/.vuepress/components/one-multiple-tree-select.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/personal-note/blog/docs/.vuepress/components/one-multiple-tree-select.vue","mtime":1668589983907},{"path":"/Applications/personal-note/blog/node_modules/cache-loader/dist/cjs.js","mtime":1667818948286},{"path":"/Applications/personal-note/blog/node_modules/babel-loader/lib/index.js","mtime":1667818948295},{"path":"/Applications/personal-note/blog/node_modules/cache-loader/dist/cjs.js","mtime":1667818948286},{"path":"/Applications/personal-note/blog/node_modules/vue-loader/lib/index.js","mtime":1668421637991}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZWwtbXVsdGlwbGVUcmVlLXNlbGVjdCcsCiAgcHJvcHM6IHsKICAgIC8vIOmFjee9rumhuQogICAgcHJvcHM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiAnaWQnLCAvLyBJROWtl+auteWQjQogICAgICAgICAgbGFiZWw6ICdsYWJlbCcsIC8vIOaYvuekuuWQjeensAogICAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicsIC8vIOWtkOe6p+Wtl+auteWQjQogICAgICAgIH0KICAgICAgfSwKICAgIH0sCiAgICAvLyDmmK/lkKbnpoHnlKgKICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgfSwKICAgIC8vIOmAiemhueWIl+ihqOaVsOaNrijmoJHlvaLnu5PmnoTnmoTlr7nosaHmlbDnu4QpCiAgICBvcHRpb25zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIFtdCiAgICAgIH0sCiAgICB9LAogICAgLy8g5Yid5aeL5YC8CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnLAogICAgfSwKICAgIC8vIOaYr+WQpuWNlemAiQogICAgY2hlY2tTdHJpY3RseTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlLAogICAgfSwKICAgIC8vIOaYr+WQpuW8gOWQr+WtkOe6p+iBlOeItgogICAgY2hpbGRDYXNjYWRlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICB9LAogICAgLyoqCiAgICAgKiB0eXBl5o6n5Yi254i25a2Q57qn6Ze055qE5YWz6IGU77yM6buY6K6kMQogICAgICog5YmN5o+Q5piv6ZyA6KaB5bCGY2hlY2tTdHJpY3Rseee9ruS4unRydWXvvIxjaGlsZENhc2NhZGXkuLp0cnVl5omN6IO95a6M5YWo55Sf5pWICiAgICAgKiAxOueItuiBlOWKqOWtkO+8jOiAjOWtkOS4jeiBlOWKqOeItu+8jAogICAgICogMjrlrZDogZTliqjniLbvvIzniLbkuI3ogZTliqjlrZAgKOmAieS4reaXtuS4jeiBlOWKqO+8jOWPlua2iOmAieS4reaXtuWPr+S7peiBlOWKqCkKICAgICAqLwogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcxJywKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5aSa6YCJCiAgICAgIHNpbmdsZVNlbGVjdFRyZWVLZXk6ICcnLAogICAgICBtdWx0aXBsZVNlbGVjdFRyZWVWYWw6IFtdLCAvLyDlpJrpgInmoJHpu5jorqRsYWJlbOWAvAogICAgICBtdWx0aXBsZVNlbGVjdFRyZWVLZXk6ICcnLCAvLyDlpJrpgInmoJHpu5jorqRrZXnlgLwKICAgICAgc2VsZWN0VHJlZURlZmF1bHRTZWxlY3RlZEtleXM6IFtdLCAvLyDpu5jorqTlsZXlvIDnmoRrZXnlgLzmlbDnu4QKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIneWni+WMluWNlemAieagkeeahOWAvAogICAgYXN5bmMgaW5pdFNpbmdsZVRyZWUoKSB7CiAgICAgIHRoaXMuc2luZ2xlU2VsZWN0VHJlZUtleSA9IHRoaXMudmFsdWUKICAgICAgaWYgKHRoaXMuc2luZ2xlU2VsZWN0VHJlZUtleSAmJiB0aGlzLm9wdGlvbnMubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIHRoaXMuc2VsZWN0VHJlZURlZmF1bHRTZWxlY3RlZEtleXMgPSB0aGlzLnNpbmdsZVNlbGVjdFRyZWVLZXkKICAgICAgICAgICAgPyB0aGlzLnNpbmdsZVNlbGVjdFRyZWVLZXkuc3BsaXQoJywnKQogICAgICAgICAgICA6IFtdIC8vIOiuvue9rum7mOiupOWxleW8gAogICAgICAgICAgbGV0IGtleUFyciA9IFtdCiAgICAgICAgICBsZXQgdmFsdWVBcnIgPSBbXQogICAgICAgICAgaWYgKHRoaXMuc2luZ2xlU2VsZWN0VHJlZUtleSkgewogICAgICAgICAgICB0aGlzLnNpbmdsZVNlbGVjdFRyZWVLZXkuc3BsaXQoJywnKS5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgbGV0IHRkYXRhID0gdGhpcy4kcmVmcy5tdWx0aXBsZVNlbGVjdFRyZWUuZ2V0Tm9kZShpdGVtKS5kYXRhCiAgICAgICAgICAgICAga2V5QXJyLnB1c2godGRhdGFbdGhpcy5wcm9wcy52YWx1ZV0pCiAgICAgICAgICAgICAgdmFsdWVBcnIucHVzaCh0ZGF0YVt0aGlzLnByb3BzLmxhYmVsXSkKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3RUcmVlVmFsID0gdmFsdWVBcnIKICAgICAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3RUcmVlS2V5ID0ga2V5QXJyLmpvaW4oJywnKQogICAgICAgICAgdGhpcy4kZW1pdCgnZ2V0VmFsdWUnLCB0aGlzLm11bHRpcGxlU2VsZWN0VHJlZUtleSkKICAgICAgICAgIC8vIOWkmumAieagkQogICAgICAgICAgdGhpcy4kcmVmcy5tdWx0aXBsZVNlbGVjdFRyZWUuc2V0Q2hlY2tlZEtleXMoCiAgICAgICAgICAgIHRoaXMuc2VsZWN0VHJlZURlZmF1bHRTZWxlY3RlZEtleXMKICAgICAgICAgICkKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgLy8g5riF6Zmk5qCR6YCJ5LitCiAgICBzZWxlY3RUcmVlQ2xlYXJIYW5kbGUoKSB7CiAgICAgIHRoaXMuc2VsZWN0VHJlZURlZmF1bHRTZWxlY3RlZEtleXMgPSBbXQogICAgICB0aGlzLmNsZWFyU2VsZWN0ZWQoKQogICAgICAvLyDmuIXnqboKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdFRyZWVWYWwgPSBbXQogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0VHJlZUtleSA9ICcnCiAgICAgIHRoaXMuJHJlZnMubXVsdGlwbGVTZWxlY3RUcmVlLnNldENoZWNrZWRLZXlzKFtdKQogICAgICB0aGlzLiRlbWl0KCdnZXRWYWx1ZScsIHRoaXMubXVsdGlwbGVTZWxlY3RUcmVlS2V5KQogICAgfSwKICAgIC8qIOa4heepuumAieS4reagt+W8jyAqLwogICAgY2xlYXJTZWxlY3RlZCgpIHsKICAgICAgY29uc3QgYWxsTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoCiAgICAgICAgJyNzaW5nbGVTZWxlY3RUcmVlIC5lbC10cmVlLW5vZGUnCiAgICAgICkKICAgICAgYWxsTm9kZS5mb3JFYWNoKChlbGVtZW50KSA9PiBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWN1cnJlbnQnKSkKICAgIH0sCiAgICAvLyBzZWxlY3TlpJrpgInml7bnp7vpmaTmn5Dpobnmk43kvZwKICAgIHJlbW92ZVNlbGVjdFRyZWVUYWcodmFsKSB7CiAgICAgIGNvbnN0IHN0YWNrID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLm9wdGlvbnMpKQogICAgICB3aGlsZSAoc3RhY2subGVuZ3RoKSB7CiAgICAgICAgY29uc3QgY3VyciA9IHN0YWNrLnNoaWZ0KCkKICAgICAgICBpZiAoY3Vyclt0aGlzLnByb3BzLmxhYmVsXSA9PSB2YWwpIHsKICAgICAgICAgIHRoaXMuJHJlZnMubXVsdGlwbGVTZWxlY3RUcmVlLnNldENoZWNrZWQoY3Vyclt0aGlzLnByb3BzLnZhbHVlXSwgZmFsc2UpCiAgICAgICAgICBsZXQgdGVtcG9yYXJ5SWQgPSB0aGlzLm11bHRpcGxlU2VsZWN0VHJlZUtleS5zcGxpdCgnLCcpCiAgICAgICAgICB0ZW1wb3JhcnlJZC5mb3JFYWNoKChpdGVtLCB0aW5kZXgpID0+IHsKICAgICAgICAgICAgaWYgKGl0ZW0gPT0gY3Vyclt0aGlzLnByb3BzLnZhbHVlXSkgewogICAgICAgICAgICAgIHRlbXBvcmFyeUlkLnNwbGljZSh0aW5kZXgsIDEpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLm11bHRpcGxlU2VsZWN0VHJlZUtleSA9IHRlbXBvcmFyeUlkLmpvaW4oJywnKQogICAgICAgIH0KICAgICAgICBpZiAoY3Vyclt0aGlzLnByb3BzLmNoaWxkcmVuXSAmJiBjdXJyW3RoaXMucHJvcHMuY2hpbGRyZW5dLmxlbmd0aCkgewogICAgICAgICAgc3RhY2sudW5zaGlmdCguLi5jdXJyW3RoaXMucHJvcHMuY2hpbGRyZW5dKQogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLiRlbWl0KCdnZXRWYWx1ZScsIHRoaXMubXVsdGlwbGVTZWxlY3RUcmVlS2V5KQogICAgfSwKICAgIC8vIOiKgueCuemAieS4reaTjeS9nAogICAgbXVsdGlwbGVTZWxlY3RUcmVlQ2hlY2tOb2RlKG5vZGUsIHN0b3JlKSB7CiAgICAgIC8vIOWPlua2iOe6p+iBlOWPiuW8gOWQr+WtkOiKgueCuee6p+iBlAogICAgICBpZiAodGhpcy5jaGVja1N0cmljdGx5ICYmIHRoaXMuY2hpbGRDYXNjYWRlICYmIHRoaXMudHlwZSA9PSAnMicpIHsKICAgICAgICBsZXQga2V5ID0gdGhpcy5wcm9wcy52YWx1ZQogICAgICAgIGxldCB0YXJnZXQgPSBub2RlW2tleV0KICAgICAgICAvLyDliKTmlq3lvZPliY3oioLngrnmmK/pgInkuK3ov5jmmK/lj5bmtojpgInkuK0KICAgICAgICBpZiAoc3RvcmUuY2hlY2tlZEtleXMuaW5kZXhPZih0YXJnZXQpID09PSAtMSkgewogICAgICAgICAgdGhpcy5jYW5jZWxDaGlsZENoZWNrZWQobm9kZSkKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcwogICAgICAgICAgLnRyZWVGaW5kUGF0aCh0aGlzLm9wdGlvbnMsIChkYXRhKSA9PiBkYXRhW2tleV0gPT09IHRhcmdldCkKICAgICAgICAgIC5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW1ba2V5XQogICAgICAgICAgfSkKICAgICAgICBsZXQgY3VycmVudEtleXMgPSB0aGlzLiRyZWZzLm11bHRpcGxlU2VsZWN0VHJlZS5nZXRDaGVja2VkS2V5cygpCiAgICAgICAgdGhpcy4kcmVmcy5tdWx0aXBsZVNlbGVjdFRyZWUuc2V0Q2hlY2tlZEtleXMoWwogICAgICAgICAgLi4ucmVzdWx0LAogICAgICAgICAgLi4uY3VycmVudEtleXMsCiAgICAgICAgXSkKICAgICAgfSBlbHNlIGlmICh0aGlzLmNoZWNrU3RyaWN0bHkgJiYgdGhpcy5jaGlsZENhc2NhZGUgJiYgdGhpcy50eXBlID09ICcxJykgewogICAgICAgIHRoaXMuY2xpY2tEZWFsKG5vZGUsIHN0b3JlKQogICAgICB9CiAgICAgIHRoaXMuZGF0YUJhY2tmaWxsKCkKICAgIH0sCiAgICAvKioKICAgICAqIOaVsOaNruWbnuWhqwogICAgICovCiAgICBkYXRhQmFja2ZpbGwoKXsKICAgICAgY29uc3QgY2hlY2tlZE5vZGVzID0gdGhpcy4kcmVmcy5tdWx0aXBsZVNlbGVjdFRyZWUuZ2V0Q2hlY2tlZE5vZGVzKCkKICAgICAgY29uc3Qga2V5QXJyID0gW10KICAgICAgY29uc3QgdmFsdWVBcnIgPSBbXQogICAgICBjaGVja2VkTm9kZXMuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgIGtleUFyci5wdXNoKGl0ZW1bdGhpcy5wcm9wcy52YWx1ZV0pCiAgICAgICAgdmFsdWVBcnIucHVzaChpdGVtW3RoaXMucHJvcHMubGFiZWxdKQogICAgICB9KQogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0VHJlZVZhbCA9IHZhbHVlQXJyCiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3RUcmVlS2V5ID0ga2V5QXJyLmpvaW4oJywnKQogICAgICB0aGlzLiRlbWl0KCdnZXRWYWx1ZScsIHRoaXMubXVsdGlwbGVTZWxlY3RUcmVlS2V5KQogICAgfSwKICAgIGNsaWNrRGVhbChjdXJyZW50T2JqLCB0cmVlU3RhdHVzKSB7CiAgICAgIC8vIOeUqOS6ju+8mueItuWtkOiKgueCueS4peagvOS6kuS4jeWFs+iBlOaXtu+8jOeItuiKgueCueWLvumAieWPmOWMluaXtumAmuefpeWtkOiKgueCueWQjOatpeWPmOWMlu+8jOWunueOsOWNleWQkeWFs+iBlOOAggogICAgICBsZXQgc2VsZWN0ZWQgPSB0cmVlU3RhdHVzLmNoZWNrZWRLZXlzLmluZGV4T2YoY3VycmVudE9ialt0aGlzLnByb3BzLnZhbHVlXSkgLy8gLTHmnKrpgInkuK0KICAgICAgLy8g6YCJ5LitCiAgICAgIGlmIChzZWxlY3RlZCAhPT0gLTEpIHsKICAgICAgICAvLyDlrZDoioLngrnlj6ropoHooqvpgInkuK3niLboioLngrnlsLHooqvpgInkuK0KICAgICAgICAvLyB0aGlzLnNlbGVjdGVkUGFyZW50KGN1cnJlbnRPYmopCiAgICAgICAgLy8g57uf5LiA5aSE55CG5a2Q6IqC54K55Li655u45ZCM55qE5Yu+6YCJ54q25oCBCiAgICAgICAgdGhpcy51bml0ZUNoaWxkU2FtZShjdXJyZW50T2JqLCB0cnVlKQogICAgICB9IGVsc2UgewogICAgICAgIC8vIOacqumAieS4rSDlpITnkIblrZDoioLngrnlhajpg6jkuLrmnKrpgInkuK0KICAgICAgICBpZiAoY3VycmVudE9ialt0aGlzLnByb3BzLmNoaWxkcmVuXSAmJiBjdXJyZW50T2JqW3RoaXMucHJvcHMuY2hpbGRyZW5dLmxlbmd0aCkgewogICAgICAgICAgdGhpcy51bml0ZUNoaWxkU2FtZShjdXJyZW50T2JqLCBmYWxzZSkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB1bml0ZUNoaWxkU2FtZSh0cmVlTGlzdCwgaXNTZWxlY3RlZCkgewogICAgICB0aGlzLiRyZWZzLm11bHRpcGxlU2VsZWN0VHJlZS5zZXRDaGVja2VkKHRyZWVMaXN0W3RoaXMucHJvcHMudmFsdWVdLCBpc1NlbGVjdGVkKQogICAgICBpZiAodHJlZUxpc3RbdGhpcy5wcm9wcy5jaGlsZHJlbl0pIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyZWVMaXN0W3RoaXMucHJvcHMuY2hpbGRyZW5dLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnVuaXRlQ2hpbGRTYW1lKHRyZWVMaXN0W3RoaXMucHJvcHMuY2hpbGRyZW5dW2ldLCBpc1NlbGVjdGVkKQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNlbGVjdGVkUGFyZW50KGN1cnJlbnRPYmopIHsKICAgICAgbGV0IGN1cnJlbnROb2RlID0gdGhpcy4kcmVmcy5tdWx0aXBsZVNlbGVjdFRyZWUuZ2V0Tm9kZShjdXJyZW50T2JqKQogICAgICBpZiAoY3VycmVudE5vZGUucGFyZW50LmtleSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy4kcmVmcy5tdWx0aXBsZVNlbGVjdFRyZWUuc2V0Q2hlY2tlZChjdXJyZW50Tm9kZS5wYXJlbnQsIHRydWUpCiAgICAgICAgdGhpcy5zZWxlY3RlZFBhcmVudChjdXJyZW50Tm9kZS5wYXJlbnQpCiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIOWPlua2iOiKgueCueS4i+aJgOacieWtkOiKgueCueeahOmAieS4reeKtuaAgQogICAgICovCiAgICBjYW5jZWxDaGlsZENoZWNrZWQobm9kZSkgewogICAgICBsZXQgY2hpbGRLZXkgPSBbXQogICAgICB0aGlzLmZpbmRDaGlsZHJlbihub2RlLCBjaGlsZEtleSwgdGhpcy5wcm9wcy5jaGlsZHJlbiwgdGhpcy5wcm9wcy52YWx1ZSkKICAgICAgbGV0IGN1cnJlbnRLZXlzID0gdGhpcy4kcmVmcy5tdWx0aXBsZVNlbGVjdFRyZWUuZ2V0Q2hlY2tlZEtleXMoKQogICAgICBjaGlsZEtleS5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgbGV0IGluZGV4ID0gY3VycmVudEtleXMuaW5kZXhPZihpdGVtKQogICAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgICBjdXJyZW50S2V5cy5zcGxpY2UoaW5kZXgsIDEpCiAgICAgICAgfQogICAgICB9KQogICAgICB0aGlzLiRyZWZzLm11bHRpcGxlU2VsZWN0VHJlZS5zZXRDaGVja2VkS2V5cyhjdXJyZW50S2V5cykKICAgICAgdGhpcy5kYXRhQmFja2ZpbGwoKQogICAgfSwKICAgIC8qKgogICAgICog5qC55o2u5p2h5Lu26I635Y+W54i257qn6IqC54K5CiAgICAgKi8KICAgIHRyZWVGaW5kUGF0aCh0cmVlLCBmdW5jLCBwYXRoID0gW10pIHsKICAgICAgaWYgKCF0cmVlKSByZXR1cm4gW10KICAgICAgZm9yIChjb25zdCBkYXRhIG9mIHRyZWUpIHsKICAgICAgICAvLyDov5nph4zmjInnhafkvaDnmoTpnIDmsYLmnaXlrZjmlL7mnIDlkI7ov5Tlm57nmoTlhoXlrrnlkKcKICAgICAgICBwYXRoLnB1c2goZGF0YSkKICAgICAgICBpZiAoZnVuYyhkYXRhKSkgcmV0dXJuIHBhdGgKICAgICAgICBpZiAoZGF0YS5jaGlsZHJlbikgewogICAgICAgICAgY29uc3QgZmluZENoaWxkcmVuID0gdGhpcy50cmVlRmluZFBhdGgoZGF0YS5jaGlsZHJlbiwgZnVuYywgcGF0aCkKICAgICAgICAgIGlmIChmaW5kQ2hpbGRyZW4ubGVuZ3RoKSByZXR1cm4gZmluZENoaWxkcmVuCiAgICAgICAgfQogICAgICAgIHBhdGgucG9wKCkKICAgICAgfQogICAgICByZXR1cm4gW10KICAgIH0sCiAgICAvKioKICAgICAqIOmAkuW9kuiOt+WPluaJgOacieeahOWtkOiKgueCuQogICAgICovCiAgICBmaW5kQ2hpbGRyZW4obm9kZSwgY2hpbGRLZXkgPSBbXSwgY2hpbGRyZW4gPSAnY2hpbGRyZW4nLCBrZXlOYW1lKSB7CiAgICAgIGxldCBrZXkgPSBrZXlOYW1lIHx8IHRoaXMubm9kZUtleQogICAgICBpZiAobm9kZVtjaGlsZHJlbl0gJiYgbm9kZVtjaGlsZHJlbl0ubGVuZ3RoKSB7CiAgICAgICAgbm9kZVtjaGlsZHJlbl0uZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgY2hpbGRLZXkucHVzaChpdGVtW2tleV0pCiAgICAgICAgICB0aGlzLmZpbmRDaGlsZHJlbihpdGVtLCBjaGlsZEtleSwgY2hpbGRyZW4sIGtleU5hbWUpCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICB9LAogIHdhdGNoOiB7CiAgICBvcHRpb25zKCkgewogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgLy8g5Yid5aeL5YyW5aSa6YCJ5qCRCiAgICAgICAgdGhpcy5pbml0U2luZ2xlVHJlZSgpCiAgICAgIH0pCiAgICB9LAogICAgdmFsdWUoKSB7CiAgICAgIHRoaXMuaW5pdFNpbmdsZVRyZWUoKQogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["one-multiple-tree-select.vue"],"names":[],"mappings":";AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"one-multiple-tree-select.vue","sourceRoot":"docs/.vuepress/components","sourcesContent":["<template>\n  <el-select v-model=\"multipleSelectTreeVal\" clearable collapse-tags multiple :disabled=\"disabled\"\n    popper-class=\"select-tree-popper\" @clear=\"selectTreeClearHandle\" @remove-tag=\"removeSelectTreeTag\">\n    <!-- 参数：\n            current-node-key：当前选中节点\n            default-checked-keys：默认勾选的节点的 key 的数组\n            default-expanded-keys：默认展开的节点的 key 的数组\n         -->\n    <el-option :value=\"multipleSelectTreeKey\">\n      <el-tree ref=\"multipleSelectTree\" :check-strictly=\"checkStrictly\" :current-node-key=\"multipleSelectTreeKey\"\n        :default-checked-keys=\"selectTreeDefaultSelectedKeys\" :default-expanded-keys=\"selectTreeDefaultSelectedKeys\"\n        :data=\"options\" highlight-current :props=\"props\" :node-key=\"props.value\" show-checkbox\n        @check=\"multipleSelectTreeCheckNode\"></el-tree>\n    </el-option>\n  </el-select>\n</template>\n\n<script>\nexport default {\n  name: 'el-multipleTree-select',\n  props: {\n    // 配置项\n    props: {\n      type: Object,\n      default: () => {\n        return {\n          value: 'id', // ID字段名\n          label: 'label', // 显示名称\n          children: 'children', // 子级字段名\n        }\n      },\n    },\n    // 是否禁用\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    // 选项列表数据(树形结构的对象数组)\n    options: {\n      type: Array,\n      default: () => {\n        return []\n      },\n    },\n    // 初始值\n    value: {\n      type: String,\n      default: '',\n    },\n    // 是否单选\n    checkStrictly: {\n      type: Boolean,\n      default: true,\n    },\n    // 是否开启子级联父\n    childCascade: {\n      type: Boolean,\n      default: true,\n    },\n    /**\n     * type控制父子级间的关联，默认1\n     * 前提是需要将checkStrictly置为true，childCascade为true才能完全生效\n     * 1:父联动子，而子不联动父，\n     * 2:子联动父，父不联动子 (选中时不联动，取消选中时可以联动)\n     */\n    type: {\n      type: String,\n      default: '1',\n    },\n  },\n  data() {\n    return {\n      // 多选\n      singleSelectTreeKey: '',\n      multipleSelectTreeVal: [], // 多选树默认label值\n      multipleSelectTreeKey: '', // 多选树默认key值\n      selectTreeDefaultSelectedKeys: [], // 默认展开的key值数组\n    }\n  },\n  methods: {\n    // 初始化单选树的值\n    async initSingleTree() {\n      this.singleSelectTreeKey = this.value\n      if (this.singleSelectTreeKey && this.options.length > 0) {\n        this.$nextTick(() => {\n          this.selectTreeDefaultSelectedKeys = this.singleSelectTreeKey\n            ? this.singleSelectTreeKey.split(',')\n            : [] // 设置默认展开\n          let keyArr = []\n          let valueArr = []\n          if (this.singleSelectTreeKey) {\n            this.singleSelectTreeKey.split(',').forEach((item) => {\n              let tdata = this.$refs.multipleSelectTree.getNode(item).data\n              keyArr.push(tdata[this.props.value])\n              valueArr.push(tdata[this.props.label])\n            })\n          }\n          this.multipleSelectTreeVal = valueArr\n          this.multipleSelectTreeKey = keyArr.join(',')\n          this.$emit('getValue', this.multipleSelectTreeKey)\n          // 多选树\n          this.$refs.multipleSelectTree.setCheckedKeys(\n            this.selectTreeDefaultSelectedKeys\n          )\n        })\n      }\n    },\n    // 清除树选中\n    selectTreeClearHandle() {\n      this.selectTreeDefaultSelectedKeys = []\n      this.clearSelected()\n      // 清空\n      this.multipleSelectTreeVal = []\n      this.multipleSelectTreeKey = ''\n      this.$refs.multipleSelectTree.setCheckedKeys([])\n      this.$emit('getValue', this.multipleSelectTreeKey)\n    },\n    /* 清空选中样式 */\n    clearSelected() {\n      const allNode = document.querySelectorAll(\n        '#singleSelectTree .el-tree-node'\n      )\n      allNode.forEach((element) => element.classList.remove('is-current'))\n    },\n    // select多选时移除某项操作\n    removeSelectTreeTag(val) {\n      const stack = JSON.parse(JSON.stringify(this.options))\n      while (stack.length) {\n        const curr = stack.shift()\n        if (curr[this.props.label] == val) {\n          this.$refs.multipleSelectTree.setChecked(curr[this.props.value], false)\n          let temporaryId = this.multipleSelectTreeKey.split(',')\n          temporaryId.forEach((item, tindex) => {\n            if (item == curr[this.props.value]) {\n              temporaryId.splice(tindex, 1)\n            }\n          })\n          this.multipleSelectTreeKey = temporaryId.join(',')\n        }\n        if (curr[this.props.children] && curr[this.props.children].length) {\n          stack.unshift(...curr[this.props.children])\n        }\n      }\n      this.$emit('getValue', this.multipleSelectTreeKey)\n    },\n    // 节点选中操作\n    multipleSelectTreeCheckNode(node, store) {\n      // 取消级联及开启子节点级联\n      if (this.checkStrictly && this.childCascade && this.type == '2') {\n        let key = this.props.value\n        let target = node[key]\n        // 判断当前节点是选中还是取消选中\n        if (store.checkedKeys.indexOf(target) === -1) {\n          this.cancelChildChecked(node)\n          return\n        }\n        let result = this\n          .treeFindPath(this.options, (data) => data[key] === target)\n          .map((item) => {\n            return item[key]\n          })\n        let currentKeys = this.$refs.multipleSelectTree.getCheckedKeys()\n        this.$refs.multipleSelectTree.setCheckedKeys([\n          ...result,\n          ...currentKeys,\n        ])\n      } else if (this.checkStrictly && this.childCascade && this.type == '1') {\n        this.clickDeal(node, store)\n      }\n      this.dataBackfill()\n    },\n    /**\n     * 数据回填\n     */\n    dataBackfill(){\n      const checkedNodes = this.$refs.multipleSelectTree.getCheckedNodes()\n      const keyArr = []\n      const valueArr = []\n      checkedNodes.forEach((item) => {\n        keyArr.push(item[this.props.value])\n        valueArr.push(item[this.props.label])\n      })\n      this.multipleSelectTreeVal = valueArr\n      this.multipleSelectTreeKey = keyArr.join(',')\n      this.$emit('getValue', this.multipleSelectTreeKey)\n    },\n    clickDeal(currentObj, treeStatus) {\n      // 用于：父子节点严格互不关联时，父节点勾选变化时通知子节点同步变化，实现单向关联。\n      let selected = treeStatus.checkedKeys.indexOf(currentObj[this.props.value]) // -1未选中\n      // 选中\n      if (selected !== -1) {\n        // 子节点只要被选中父节点就被选中\n        // this.selectedParent(currentObj)\n        // 统一处理子节点为相同的勾选状态\n        this.uniteChildSame(currentObj, true)\n      } else {\n        // 未选中 处理子节点全部为未选中\n        if (currentObj[this.props.children] && currentObj[this.props.children].length) {\n          this.uniteChildSame(currentObj, false)\n        }\n      }\n    },\n    uniteChildSame(treeList, isSelected) {\n      this.$refs.multipleSelectTree.setChecked(treeList[this.props.value], isSelected)\n      if (treeList[this.props.children]) {\n        for (let i = 0; i < treeList[this.props.children].length; i++) {\n          this.uniteChildSame(treeList[this.props.children][i], isSelected)\n        }\n      }\n    },\n    selectedParent(currentObj) {\n      let currentNode = this.$refs.multipleSelectTree.getNode(currentObj)\n      if (currentNode.parent.key !== undefined) {\n        this.$refs.multipleSelectTree.setChecked(currentNode.parent, true)\n        this.selectedParent(currentNode.parent)\n      }\n    },\n    /**\n     * 取消节点下所有子节点的选中状态\n     */\n    cancelChildChecked(node) {\n      let childKey = []\n      this.findChildren(node, childKey, this.props.children, this.props.value)\n      let currentKeys = this.$refs.multipleSelectTree.getCheckedKeys()\n      childKey.forEach((item) => {\n        let index = currentKeys.indexOf(item)\n        if (index > -1) {\n          currentKeys.splice(index, 1)\n        }\n      })\n      this.$refs.multipleSelectTree.setCheckedKeys(currentKeys)\n      this.dataBackfill()\n    },\n    /**\n     * 根据条件获取父级节点\n     */\n    treeFindPath(tree, func, path = []) {\n      if (!tree) return []\n      for (const data of tree) {\n        // 这里按照你的需求来存放最后返回的内容吧\n        path.push(data)\n        if (func(data)) return path\n        if (data.children) {\n          const findChildren = this.treeFindPath(data.children, func, path)\n          if (findChildren.length) return findChildren\n        }\n        path.pop()\n      }\n      return []\n    },\n    /**\n     * 递归获取所有的子节点\n     */\n    findChildren(node, childKey = [], children = 'children', keyName) {\n      let key = keyName || this.nodeKey\n      if (node[children] && node[children].length) {\n        node[children].forEach((item) => {\n          childKey.push(item[key])\n          this.findChildren(item, childKey, children, keyName)\n        })\n      }\n    },\n  },\n  watch: {\n    options() {\n      this.$nextTick(() => {\n        // 初始化多选树\n        this.initSingleTree()\n      })\n    },\n    value() {\n      this.initSingleTree()\n    },\n  },\n}\n</script>\n\n<style  lang=\"scss\">\n/* 下拉树样式-----------开始 */\n.select-tree-popper {\n  .el-scrollbar {\n    .el-scrollbar__view {\n      .el-select-dropdown__item {\n        height: auto;\n        max-height: 274px;\n        padding: 0px;\n        overflow-y: auto;\n        line-height: 26px;\n      }\n    }\n  }\n}\n</style>\n"]}]}