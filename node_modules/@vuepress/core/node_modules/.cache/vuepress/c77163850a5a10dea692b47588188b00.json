{"remainingRequest":"/Applications/personal-note/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/personal-note/blog/docs/.vuepress/components/demo-block.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/personal-note/blog/docs/.vuepress/components/demo-block.vue","mtime":1668497335034},{"path":"/Applications/personal-note/blog/node_modules/cache-loader/dist/cjs.js","mtime":1667818948286},{"path":"/Applications/personal-note/blog/node_modules/babel-loader/lib/index.js","mtime":1667818948295},{"path":"/Applications/personal-note/blog/node_modules/cache-loader/dist/cjs.js","mtime":1667818948286},{"path":"/Applications/personal-note/blog/node_modules/vue-loader/lib/index.js","mtime":1668421637991}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGhvdmVyaW5nOiBmYWxzZSwKICAgICAgICAgIGlzRXhwYW5kZWQ6IGZhbHNlLAogICAgICAgICAgZml4ZWRDb250cm9sOiBmYWxzZSwKICAgICAgICAgIHNjcm9sbFBhcmVudDogbnVsbCwKICAgICAgICAgIGxhbmdDb25maWc6IHsKICAgICAgICAgICAgImhpZGUtdGV4dCI6ICLpmpDol4/ku6PnoIEiLAogICAgICAgICAgICAic2hvdy10ZXh0IjogIuaYvuekuuS7o+eggSIsCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSwKICAKICAgICAgcHJvcHM6IHsKICAgICAgICBqc2ZpZGRsZTogT2JqZWN0LAogICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICByZXR1cm4ge307CiAgICAgICAgfQogICAgICB9LAogIAogICAgICBtZXRob2RzOiB7CiAgICAgICAgc2Nyb2xsSGFuZGxlcigpIHsKICAgICAgICAgIGNvbnN0IHsgdG9wLCBib3R0b20sIGxlZnQgfSA9IHRoaXMuJHJlZnMubWV0YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgIHRoaXMuZml4ZWRDb250cm9sID0gYm90dG9tID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAmJgogICAgICAgICAgICB0b3AgKyA0NCA8PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgICAgIH0sCiAgCiAgICAgICAgcmVtb3ZlU2Nyb2xsSGFuZGxlcigpIHsKICAgICAgICAgIHRoaXMuc2Nyb2xsUGFyZW50ICYmIHRoaXMuc2Nyb2xsUGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsSGFuZGxlcik7CiAgICAgICAgfQogICAgICB9LAogIAogICAgICBjb21wdXRlZDogewogICAgICAgIGxhbmcoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kcm91dGUucGF0aC5zcGxpdCgnLycpWzFdOwogICAgICAgIH0sCiAgCiAgICAgICAgYmxvY2tDbGFzcygpIHsKICAgICAgICAgIHJldHVybiBgZGVtby0keyB0aGlzLmxhbmcgfSBkZW1vLSR7IHRoaXMuJHJvdXRlci5jdXJyZW50Um91dGUucGF0aC5zcGxpdCgnLycpLnBvcCgpIH1gOwogICAgICAgIH0sCiAgCiAgICAgICAgaWNvbkNsYXNzKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuaXNFeHBhbmRlZCA/ICdlbC1pY29uLWNhcmV0LXRvcCcgOiAnZWwtaWNvbi1jYXJldC1ib3R0b20nOwogICAgICAgIH0sCiAgCiAgICAgICAgY29udHJvbFRleHQoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5pc0V4cGFuZGVkID8gdGhpcy5sYW5nQ29uZmlnWydoaWRlLXRleHQnXSA6IHRoaXMubGFuZ0NvbmZpZ1snc2hvdy10ZXh0J107CiAgICAgICAgfSwKICAKICAgICAgICBjb2RlQXJlYSgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtZXRhJylbMF07CiAgICAgICAgfSwKICAKICAgICAgICBjb2RlQXJlYUhlaWdodCgpIHsKICAgICAgICAgICAgCiAgICAgICAgICBpZiAodGhpcy4kZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZGVzY3JpcHRpb24nKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgcmV0dXJuIHRoaXMuJGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Rlc2NyaXB0aW9uJylbMF0uY2xpZW50SGVpZ2h0ICsKICAgICAgICAgICAgICB0aGlzLiRlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzb3VyY2VDb2RlJylbMF0uY2xpZW50SGVpZ2h0ICsgMjA7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gdGhpcy4kZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc291cmNlQ29kZScpWzBdLmNsaWVudEhlaWdodDsKICAgICAgICB9CiAgICAgIH0sCiAgCiAgICAgIHdhdGNoOiB7CiAgICAgICAgaXNFeHBhbmRlZCh2YWwpIHsKICAgICAgICAgIHRoaXMuY29kZUFyZWEuc3R5bGUuaGVpZ2h0ID0gdmFsID8gYCR7IHRoaXMuY29kZUFyZWFIZWlnaHQgKyAxIH1weGAgOiAnMCc7CiAgICAgICAgICBpZiAoIXZhbCkgewogICAgICAgICAgICB0aGlzLmZpeGVkQ29udHJvbCA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLiRyZWZzLmNvbnRyb2wuc3R5bGUubGVmdCA9ICcwJzsKICAgICAgICAgICAgdGhpcy5yZW1vdmVTY3JvbGxIYW5kbGVyKCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLnNjcm9sbFBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlLWNvbXBvbmVudF9fc2Nyb2xsID4gLmVsLXNjcm9sbGJhcl9fd3JhcCcpOwogICAgICAgICAgICB0aGlzLnNjcm9sbFBhcmVudCAmJiB0aGlzLnNjcm9sbFBhcmVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIpOwogICAgICAgICAgICB0aGlzLnNjcm9sbEhhbmRsZXIoKTsKICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgfQogICAgICB9LAogIAogICAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIGxldCBzb3VyY2VDb2RlID0gdGhpcy4kZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc291cmNlQ29kZScpWzBdOwogICAgICAgICAgaWYgKHRoaXMuJGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Rlc2NyaXB0aW9uJykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHNvdXJjZUNvZGUuc3R5bGUud2lkdGggPSAnMTAwJSc7CiAgICAgICAgICAgIHNvdXJjZUNvZGUuYm9yZGVyUmlnaHQgPSAnbm9uZSc7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgCiAgICAgIGJlZm9yZURlc3Ryb3koKSB7CiAgICAgICAgdGhpcy5yZW1vdmVTY3JvbGxIYW5kbGVyKCk7CiAgICAgIH0KICAgIH07CiAg"},{"version":3,"sources":["demo-block.vue"],"names":[],"mappings":";AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"demo-block.vue","sourceRoot":"docs/.vuepress/components","sourcesContent":["<template>\n    <div\n      class=\"demo-block\"\n      :class=\"[blockClass, { 'hover': hovering }]\"\n      @mouseenter=\"hovering = true\"\n      @mouseleave=\"hovering = false\">\n      <!-- <div style=\"padding:12px\" class=\"source-bg\">\n          <slot name=\"source\"></slot>\n      </div> -->\n      <div class=\"meta\" ref=\"meta\">\n        <div class=\"description\" v-if=\"$slots.default\">\n          <slot></slot>\n        </div>\n        <div class=\"sourceCode\">\n          <slot name=\"sourceCode\"></slot>\n        </div>\n      </div>\n      <div\n        class=\"demo-block-control\"\n        ref=\"control\"\n        @click=\"isExpanded = !isExpanded\">\n        <transition name=\"arrow-slide\">\n          <i :class=\"[iconClass, { 'hovering': hovering }]\"></i>\n        </transition>\n        <transition name=\"text-slide\">\n          <span v-show=\"hovering\">{{ controlText }}</span>\n        </transition>\n      </div>\n    </div>\n  </template>\n  \n  <script type=\"text/babel\">\n    export default {\n      data() {\n        return {\n          hovering: false,\n          isExpanded: false,\n          fixedControl: false,\n          scrollParent: null,\n          langConfig: {\n            \"hide-text\": \"隐藏代码\",\n            \"show-text\": \"显示代码\",\n          }\n        };\n      },\n  \n      props: {\n        jsfiddle: Object,\n        default() {\n          return {};\n        }\n      },\n  \n      methods: {\n        scrollHandler() {\n          const { top, bottom, left } = this.$refs.meta.getBoundingClientRect();\n          this.fixedControl = bottom > document.documentElement.clientHeight &&\n            top + 44 <= document.documentElement.clientHeight;\n        },\n  \n        removeScrollHandler() {\n          this.scrollParent && this.scrollParent.removeEventListener('scroll', this.scrollHandler);\n        }\n      },\n  \n      computed: {\n        lang() {\n          return this.$route.path.split('/')[1];\n        },\n  \n        blockClass() {\n          return `demo-${ this.lang } demo-${ this.$router.currentRoute.path.split('/').pop() }`;\n        },\n  \n        iconClass() {\n          return this.isExpanded ? 'el-icon-caret-top' : 'el-icon-caret-bottom';\n        },\n  \n        controlText() {\n          return this.isExpanded ? this.langConfig['hide-text'] : this.langConfig['show-text'];\n        },\n  \n        codeArea() {\n          return this.$el.getElementsByClassName('meta')[0];\n        },\n  \n        codeAreaHeight() {\n            \n          if (this.$el.getElementsByClassName('description').length > 0) {\n           return this.$el.getElementsByClassName('description')[0].clientHeight +\n              this.$el.getElementsByClassName('sourceCode')[0].clientHeight + 20;\n          }\n          return this.$el.getElementsByClassName('sourceCode')[0].clientHeight;\n        }\n      },\n  \n      watch: {\n        isExpanded(val) {\n          this.codeArea.style.height = val ? `${ this.codeAreaHeight + 1 }px` : '0';\n          if (!val) {\n            this.fixedControl = false;\n            this.$refs.control.style.left = '0';\n            this.removeScrollHandler();\n            return;\n          }\n          setTimeout(() => {\n            this.scrollParent = document.querySelector('.page-component__scroll > .el-scrollbar__wrap');\n            this.scrollParent && this.scrollParent.addEventListener('scroll', this.scrollHandler);\n            this.scrollHandler();\n          }, 200);\n        }\n      },\n  \n      mounted() {\n        this.$nextTick(() => {\n          let sourceCode = this.$el.getElementsByClassName('sourceCode')[0];\n          if (this.$el.getElementsByClassName('description').length === 0) {\n            sourceCode.style.width = '100%';\n            sourceCode.borderRight = 'none';\n          }\n        });\n      },\n  \n      beforeDestroy() {\n        this.removeScrollHandler();\n      }\n    };\n  </script>\n  \n  <style lang=\"scss\">\n    .demo-block {\n      padding-top: 10px;\n      border: solid 1px #ebebeb;\n      border-radius: 3px;\n      transition: .2s;\n      margin-bottom: 1.5rem;\n      \n      &.hover {\n        box-shadow: 0 0 8px 0 rgba(232, 237, 250, .6), 0 2px 4px 0 rgba(232, 237, 250, .5);\n      }\n  \n      code {\n        font-family: Menlo, Monaco, Consolas, Courier, monospace;\n      }\n  \n      .demo-button {\n        float: right;\n      }\n  \n      .source-bg {\n        background-image: linear-gradient(\n          -89deg,\n          rgba(152, 239, 181, 0.5) 0%,\n          rgba(116, 247, 129, 0.5) 26%, \n          rgba(92, 203, 120, 0.6) 54%,\n          rgba(26, 240, 44, 0.4) 100%\n        );\n      }\n  \n      .source {\n        padding: 24px;\n      }\n  \n      .meta {\n        background-color: #fafafa;\n        border-top: solid 1px #eaeefb;\n        overflow: hidden;\n        height: 0;\n        transition: height .2s;\n      }\n  \n      .description {\n        padding: 20px;\n        box-sizing: border-box;\n        border: solid 1px #ebebeb;\n        border-radius: 3px;\n        font-size: 14px;\n        line-height: 22px;\n        color: #666;\n        word-break: break-word;\n        margin: 10px;\n        background-color: #fff;\n  \n        p {\n          margin: 0;\n          line-height: 26px;\n        }\n  \n        code {\n          color: #5e6d82;\n          background-color: #e6effb;\n          margin: 0 4px;\n          display: inline-block;\n          padding: 1px 5px;\n          font-size: 12px;\n          border-radius: 3px;\n          height: 18px;\n          line-height: 18px;\n        }\n      }\n  \n      .sourceCode {\n        pre {\n          margin: 0;\n        }\n  \n        code.hljs {\n          margin: 0;\n          border: none;\n          max-height: none;\n          border-radius: 0;\n          line-height: 1.8;\n          color:black;\n          &::before {\n            content: none;\n          }\n        }\n      }\n  \n      .demo-block-control {\n        border-top: solid 1px #eaeefb;\n        height: 44px;\n        box-sizing: border-box;\n        background-color: #fff;\n        border-bottom-left-radius: 4px;\n        border-bottom-right-radius: 4px;\n        text-align: center;\n        margin-top: -1px;\n        color: #d3dce6;\n        cursor: pointer;\n        position: relative;\n  \n        &.is-fixed {\n          position: fixed;\n          bottom: 0;\n          width: 868px;\n        }\n  \n        i {\n          font-size: 16px;\n          line-height: 44px;\n          transition: .3s;\n          &.hovering {\n            transform: translateX(-40px);\n          }\n        }\n  \n        > span {\n          position: absolute;\n          transform: translateX(-30px);\n          font-size: 14px;\n          line-height: 44px;\n          transition: .3s;\n          display: inline-block;\n        }\n  \n        &:hover {\n          color: #409EFF;\n          background-color: #f9fafc;\n        }\n  \n        & .text-slide-enter,\n        & .text-slide-leave-active {\n          opacity: 0;\n          transform: translateX(10px);\n        }\n  \n        .control-button {\n          line-height: 26px;\n          position: absolute;\n          top: 0;\n          right: 0;\n          font-size: 14px;\n          padding-left: 5px;\n          padding-right: 25px;\n        }\n      }\n    }\n  </style>\n  "]}]}